<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header">
          <h4 class="mb-0">
            <i class="fas fa-{{ isEdicao ? 'edit' : 'plus' }} me-2"></i>
            {{ isEdicao ? 'Editar' : 'Novo' }} Benefício
          </h4>
        </div>
        <div class="card-body">
          <form [formGroup]="beneficioForm" (ngSubmit)="onSubmit()" novalidate>
            <div class="mb-3">
              <label for="nome" class="form-label">Nome do Benefício *</label>
              <input type="text"
                  [readonly]="isDetalhar" 
                    class="form-control" 
                    id="nome"
                    formControlName="nome"
                    [class.is-invalid]="nome?.invalid && nome?.touched"
                    placeholder="Digite o nome do beneficio">
              <div class="invalid-feedback" *ngIf="nome?.errors?.['required'] && nome?.touched">
                Nome é obrigatório
              </div>
              <div class="invalid-feedback" *ngIf="nome?.errors?.['minlength'] && nome?.touched">
                Nome deve ter pelo menos 3 caracteres
              </div>
            </div>

            <div class="mb-3">
              <label for="descricao" class="form-label">Descrição</label>
              <textarea class="form-control" 
                      [readonly]="isDetalhar"
                      id="descricao"
                      formControlName="descricao"
                      rows="3"
                      placeholder="Descrição opcional do benefício..."></textarea>
            </div>

            <div class="mb-3">
              <label for="valor" class="form-label">Valor (R$)</label>
              <input type="number" 
                  [readonly]="isDetalhar"
                    class="form-control" 
                    id="valor"
                    formControlName="valor"
                    min="0"
                    step="0.01"
                    placeholder="Digite o valor do beneficio">
              <div class="invalid-feedback" *ngIf="valor?.errors?.['min'] && valor?.touched">
                Valor não pode ser negativo
              </div>
            </div>

            <div class="d-flex gap-2 pt-3">
              <button type="submit" 
                      class="btn btn-primary"
                      [disabled]="beneficioForm.invalid || carregando || isDetalhar">
                <i class="fas fa-{{ carregando ? 'spinner fa-spin' : (isEdicao ? 'check' : 'save') }} me-1"></i>
                {{ carregando ? 'Salvando...' : (isEdicao ? 'Atualizar' : 'Salvar') }}
              </button>
              <button type="button" 
                      class="btn btn-secondary"
                      (click)="cancelar()"
                      [disabled]="carregando">
                <i class="fas fa-times me-1"></i>
                Cancelar
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>